/* --- Google Font (fallback preloaded in HTML as well) --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap');

/* ------------------------------ */
/* --- THEME VARIABLES (LIGHT) -- */
/* ------------------------------ */
:root {
  --font-sans: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji","Segoe UI Emoji";

  /* Surfaces & text */
  --bg-primary: #f4f7f9;       /* page background */
  --bg-secondary: #ffffff;     /* card surface */
  --text-primary: #1a202c;     /* gray-900 */
  --text-secondary: #718096;   /* gray-500 */
  --border-color: #e2e8f0;     /* gray-200 */

  /* Accents */
  --accent-primary: #3b82f6;         /* blue-500 */
  --accent-primary-hover: #2563eb;   /* blue-600 */

  /* Semantic */
  --color-green: #10b981;  /* emerald-500 */
  --color-red:   #ef4444;  /* red-500  */
  --color-yellow:#f59e0b;  /* amber-500 */

  /* Elevation */
  --shadow-soft:   0 4px  6px -1px rgba(0,0,0,.05), 0 2px 4px -2px rgba(0,0,0,.05);
  --shadow-medium: 0 10px 15px -3px rgba(0,0,0,.07), 0 4px 6px -4px rgba(0,0,0,.07);
}

/* ----------------------------- */
/* --- THEME VARIABLES (DARK) -- */
/* ----------------------------- */
html.dark {
  --bg-primary: #111827;       /* gray-900 */
  --bg-secondary: #1f2937;     /* gray-800 */
  --text-primary: #f9fafb;     /* gray-50  */
  --text-secondary: #9ca3af;   /* gray-400 */
  --border-color: #374151;     /* gray-700 */

  --accent-primary: #60a5fa;         /* blue-400 */
  --accent-primary-hover: #3b82f6;   /* blue-500 */

  --color-green: #34d399;  /* emerald-400 */
  --color-red:   #f87171;  /* red-400     */
  --color-yellow:#fbbf24;  /* amber-400   */
}

/* ------------------ */
/* --- BASE STYLES -- */
/* ------------------ */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  font-family: var(--font-sans);
  background: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color .3s ease, color .3s ease;
}

/* ----------------------- */
/* --- COMPONENT STYLES -- */
/* ----------------------- */
.glass {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-soft);
  transition: background-color .3s ease, border-color .3s ease, box-shadow .3s ease;
}
.shadow-medium { box-shadow: var(--shadow-medium); }

/* Transactions Table */
.transactions-table { width: 100%; border-collapse: collapse; }
.transactions-table th,
.transactions-table td { vertical-align: middle; }
.transactions-table th {
  text-align: left;
  font-weight: 600;
  color: var(--text-secondary);
  font-size: 0.875rem;
  padding: 0.75rem 1rem;
  border-bottom: 2px solid var(--border-color);
  text-transform: uppercase;
  letter-spacing: .05em;
}
.transactions-table td {
  padding: 1rem 1rem;
  border-bottom: 1px solid var(--border-color);
}
.transactions-table tbody tr { transition: background-color .2s ease; }
.transactions-table tbody tr:last-child td { border-bottom: none; }
.transactions-table tbody tr:hover { background: rgba(59,130,246,.05); }
html.dark .transactions-table tbody tr:hover { background: rgba(96,165,250,.08); }

/* keep date/time tidy in first column */
.transactions-table td:first-child { white-space: nowrap; }

/* Badges & Amounts */
.badge {
  display: inline-block;
  padding: .25rem .75rem;
  border-radius: 9999px;
  background: rgba(59,130,246,.10);
  color: #2563eb;
  font-size: .8rem;
  font-weight: 600;
}
html.dark .badge { background: rgba(96,165,250,.15); color: #93c5fd; }

.amount-pos { color: var(--color-green); font-weight: 600; text-align: right; }
.amount-neg { color: var(--color-red);   font-weight: 600; text-align: right; }

/* Inputs */
.input-field {
  width: 100%;
  padding: .75rem 1rem;
  border: 1px solid var(--border-color);
  border-radius: .5rem;
  background: var(--bg-primary);
  color: var(--text-primary);
  transition: all .2s ease;
}
.input-field::placeholder { color: var(--text-secondary); }
.input-field:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px rgba(59,130,246,.30);
}
html.dark .input-field:focus { box-shadow: 0 0 0 3px rgba(96,165,250,.30); }

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .6rem 1.25rem;
  border-radius: .5rem;
  font-weight: 600;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all .2s ease;
}
.btn-primary { background: var(--accent-primary); color: #fff; }
.btn-primary:hover { background: var(--accent-primary-hover); }

.btn-danger  { background: var(--color-red);   color:#fff; }
.btn-warning { background: var(--color-yellow); color:#422006; }
html.dark .btn-warning { color:#1f2937; }
.btn-danger:hover, .btn-warning:hover { opacity: .92; }

.btn-secondary {
  background: var(--bg-secondary);
  border-color: var(--border-color);
  color: var(--text-primary);
}
.btn-secondary:hover { border-color: var(--text-secondary); background: var(--bg-primary); }

/* Inline error text */
.error-text { color: var(--color-red); font-size: .875rem; margin-top: .25rem; }

/* Modal */
.modal { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 50; }
.modal.hidden { display: none; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,.4); backdrop-filter: blur(4px); }
.modal-card { position: relative; z-index: 1; max-width: 28rem; width: 100%; box-shadow: var(--shadow-medium); }

/* --- Manual (Generate button) transactions highlight â€” FIXED --- */
/* Use inset box-shadow for the left stripe instead of ::before on <tr>. */
.transactions-table tr.row-manual {
  background: rgba(245, 158, 11, .06); /* amber-500 @ ~6% */
  box-shadow: inset 4px 0 0 var(--color-yellow);
}
html.dark .transactions-table tr.row-manual {
  background: rgba(251, 191, 36, .10); /* amber-400 @ ~10% */
  box-shadow: inset 4px 0 0 var(--color-yellow);
}
.transactions-table tr.row-manual:hover {
  background: rgba(245, 158, 11, .06) !important;
}
html.dark .transactions-table tr.row-manual:hover {
  background: rgba(251, 191, 36, .10) !important;
}

.manual-badge {
  display: inline-block;
  margin-left: .5rem;
  padding: .15rem .5rem;
  border-radius: 9999px;
  background: rgba(245, 158, 11, .18);
  color: #7c2d12;
  font-size: .70rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .02em;
}
html.dark .manual-badge {
  background: rgba(251, 191, 36, .22);
  color: #fde68a;
}

/* --- Segmented Toggle (Account switch) --- */
.seg-toggle {
  display: inline-flex;
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
  padding: 0.25rem;
  border-radius: 9999px;
  box-shadow: var(--shadow-soft);
}
.seg-toggle .seg {
  appearance: none;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-weight: 700;
  padding: .35rem .9rem;
  border-radius: 9999px;
  cursor: pointer;
  transition: background-color .2s ease, color .2s ease, transform .05s ease;
}
.seg-toggle .seg:hover { background: rgba(59,130,246,.08); }
.seg-toggle .seg.active { background: var(--accent-primary); color: white; }
